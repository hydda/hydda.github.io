<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Creating a Java connector</title>
  
	<link type="text/css" rel="stylesheet" media="all" href="/resources/css/style.css" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous" />
	<link rel="shortcut icon" href="/favicon.ico" />

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.min.css" />
	<!--[if lt IE 9]>
	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.ie.min.css" />
	<![endif]-->

	<script src="http://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	<script src="/resources/js/helpers.js"></script>
</head>

<body>
	<div id="forkongithub"><a href="https://github.com/hydda/hydda.github.io">Source sur GitHub</a></div>

	<div id="menu">
		<p id="logo">
			<a href="/"><img src="/resources/images/logo.png" alt="HYDDA's logo" /></a>
		</p>
		<ul>
			<li ><a href="/">Accueil</a></li>
			<li ><a href="/content/user-guides/snapshot/index.html">Guide Utilisateur</a></li>
			<li  class="active"><a href="/content/developer-guides/snapshot/index.html">Guide Dévéloppeur</a></li>
			<li ><a href="/content/links.html">Liens</a></li>
			<li ><a href="/content/publications.html">Publications</a></li>
		</ul>
	</div>

	<div id="content">
		<h1 id="page-title">Creating a Java connector</h1>
		
		
		
		
			<p>
				<a href="index.html">OCCIware Studio</a> &raquo; <a href="#">Creating a Java connector</a>
			</p>
			<br />
		
	
		<h2 id="creating-a-java-connector">Creating a Java Connector</h2>
<p><strong>TODO</strong> move to its own page.</p>

<p>Here is how to create a Java connector that will be able to manage the Cloud of your choice and expose its capabilities as OCCI.</p>

<p>See also slides 71-73 in the <a href="http://fr.slideshare.net/mdutoo/eclipsecon-2016-occiware-a-cloud-api-to-rule-them-all">One Cloud API to rule them all</a> talk given at EclipseCon France 2016.</p>

<p><strong>TODO</strong> put its screenshots here.</p>

<p>1. In Eclipse, <strong>create a connector project</strong> by choosing File &gt; New &gt; Other… then Cloud Designer &gt; Java Connector Project, and filling its name and extension dependencies (usually with <a href="/content/user-guides/snapshot/studio-new-occi-extension.html">one you’ve created</a> for your own needs). This notably generates <a href="https://github.com/occiware/ecore/blob/master/clouddesigner/org.occiware.clouddesigner.occi.linkeddata.connector/src/org/occiware/clouddesigner/occi/linkeddata/connector/LdprojectConnector.java">…/connector/YourOCCIResourceConnector.java</a> files in the src/ directory, with empty connector methods (occiRetrieve, occiUpdate… as well as defined OCCI actions).</p>

<p>2. Creating a connector with an existing Cloud (IaaS, PaaS…) implies <strong>adding all dependencies</strong> that are required to talk to said Cloud’s management APIs, such as a REST client if those are REST APIs, or a dedicated client library provided by said Cloud. To this end :</p>

<ul>
  <li>in Eclipse, create a …connector.dependencies project using <a href="https://github.com/occiware/ecore/blob/master/clouddesigner/org.occiware.clouddesigner.occi.linkeddata.connector.dependencies">an existing one</a> as a template and define all these dependencies in <a href="https://github.com/occiware/ecore/blob/master/clouddesigner/org.occiware.clouddesigner.occi.linkeddata.connector.dependencies/pom.xml">its pom.xml file</a>.</li>
  <li>run <code class="highlighter-rouge">mvn clean install</code> in this project, which will make maven download all dependencies in the …connector/lib folder.</li>
  <li>in Eclipse, complete the …connector project’s <a href="https://github.com/occiware/ecore/blob/master/clouddesigner/org.occiware.clouddesigner.occi.linkeddata.connector/META-INF/MANIFEST.MF">META-INF/MANIFEST.MF</a> by adding library dependencies on all …connector/lib/*jar files (refresh the project if you can’t see them).</li>
</ul>

<p>NB. …connector.dependencies projects are the only case in the Studio were dependencies are declared in the pom.xml file. Otherwise they must be declared in a project’s META-INF/MANIFEST.MF file, as for any regular Eclipse plugin, where Maven will be able to find them thanks to using <a href="http://www.vogella.com/tutorials/EclipseTycho/article.html">Tycho</a>’s <code class="highlighter-rouge">eclipse-plugin</code> packaging.</p>

<p>3. You can now <strong>fill those connector methods</strong> by writing code that takes the current state of your OCCI resource (at execution time, those generated connector objects will be automatically filled with it : all attributes and links) and applies it to the management of the Cloud that your are creating a connector for by using said dependency libraries.</p>

<p>4. You can then <strong>test it</strong> by running it from source within Eclipse : Run &gt; Run configurations… then create a new Eclipse Application (if none yet) and run it.</p>

<p>Next step is to <a href="/content/user-guides/snapshot/runtime-expose-a-connector-as-OCCI-HTTP.html">expose this connector as an OCCI HTTP API</a>.</p>


	</div>
	<div class="clear"></div>

	<div id="footer">
		Copyright &copy; 2017-2018, HYDDA Partners
	</div>

</body>
</html>
